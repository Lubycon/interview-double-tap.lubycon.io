(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8795],{1640:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(3946),u=n(9013),i=n(3882);function o(e,t){(0,i.Z)(2,arguments);var n=(0,u.Z)(e),o=(0,r.Z)(t);if(isNaN(o))return new Date(NaN);if(!o)return n;var c=n.getDate(),a=new Date(n.getTime());a.setMonth(n.getMonth()+o+1,0);var s=a.getDate();return c>=s?a:(n.setFullYear(a.getFullYear(),a.getMonth(),c),n)}},6238:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return ue}});var r=n(2809),u=n(266),i=n(9711),o=n(809),c=n.n(o),a=n(8253),s=n(917),l=n(3967),p=n(7566),f=n(7951),d=n(8031),v=n(1371),h=n(4332),m=n(8947),y=n(7294),w=n(7536),b=n(6826),g=n(9977),Z=n(7880),q=n(7349),x=n(1640),O=n(1164),k=n(9013),j=n(3882);function D(e){(0,j.Z)(1,arguments);var t=(0,k.Z)(e);return t.setHours(0,0,0,0),t}var P=n(8996),S=n(8767),_=n(9230),N=["data"];function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function F(e){var t=(0,S.useQuery)(["reservedInterviews",e],(0,u.Z)(c().mark((function t(){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,_.WB)(e);case 2:return t.abrupt("return",t.sent.body);case 3:case"end":return t.stop()}}),t)})))),n=t.data,i=(0,O.Z)(t,N),o=function(e){return(null!==n&&void 0!==n?n:[]).some((function(t){var n=t.datetime;return function(e,t){(0,j.Z)(2,arguments);var n=D(e),r=D(t);return n.getTime()===r.getTime()}(new Date(n),e)}))};return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({isReservedDate:o,isReservedTime:function(e){return(null!==n&&void 0!==n?n:[]).some((function(t){var n=t.datetime,r=(0,P.Z)(new Date(n),"HH:mm"),u=(0,P.Z)(new Date(e),"HH:mm");return o(e)&&r===u}))},data:n},i)}var E=n(2591),C=n(3066),H=n(5944);var z=new Date,B=(0,q.Z)(z,1),Q=(0,x.Z)(z,1),X={name:"1bfm292",styles:"padding:0px 8px 16px 8px"},R={name:"1oaeivz",styles:"margin-right:8px"},I=function(e){var t=e.intro,n=e.outro,r=e.data,u=e.loading,i=e.interviewer,o=e.onSubmit,c=e.onNextStep,a=e.onPrevStep,q=(0,C.p)().openToast,x=F(i.id),O=x.isReservedDate,k=x.isReservedTime,j=x.data,D=null==t?0:-1,P=null==n?r.questions.length-1:r.questions.length,S=(0,w.cI)({defaultValues:null!==r&&void 0!==r?r:{}}),_=S.handleSubmit,N=S.setError,T=S.clearErrors,z=S.getValues,I=S.formState,K=S.control,L=(0,y.useState)(D),M=L[0],V=L[1],Y=function(){if(M!==P){var e=z().questions[M],t=(0,g.Q)(e);null==t?"datetime"===e.type&&(null!==j&&void 0!==j?j:[]).length>0&&k(e.value)?q({message:"\uc774\ubbf8 \uc608\uc57d\ub41c \uc2dc\uac04\uc774\uc5d0\uc694. \ub2e4\ub978 \uc2dc\uac04\uc744 \uc120\ud0dd\ud574\uc8fc\uc138\uc694."}):(V((function(e){return e+1})),null===c||void 0===c||c(M,M+1,z())):N("questions.".concat(M),t)}},U=function(e){var t=I.errors.questions;return null===t||void 0===t?void 0:t[e]},W=function(e){var t;null===(t=e.currentTarget)||void 0===t||t.blur(),Y()},A=function(e,t){var n,r,u=null===i||void 0===i||null===(n=i.interviewer)||void 0===n?void 0:n.available_week,o=null===i||void 0===i||null===(r=i.interviewer)||void 0===r?void 0:r.available_time,c=(0,E.pV)((0,E.HT)(B,null!==u&&void 0!==u?u:[]),null===o||void 0===o?void 0:o[0]);switch(e.type){case"select":return(0,H.tZ)(b.Q.Select,{name:"questions.".concat(t,".value"),rules:{required:e.required},control:K,error:null!=U(t),onChange:function(e){T("questions.".concat(t)),W(e)},children:e.options.map((function(e){return(0,H.tZ)("option",{value:e.value,children:e.name},e.value)}))});case"file":return(0,H.tZ)(b.Q.File,{name:"questions.".concat(t,".file"),rules:{required:e.required},control:K,error:null!=U(t),onChange:function(e){T("questions.".concat(t)),W(e)},accept:"application/pdf"});case"datetime":return(0,H.tZ)(b.Q.Datetime,{name:"questions.".concat(t,".value"),rules:{required:e.required},control:K,error:null!=U(t),onChange:function(e){T("questions.".concat(t)),W(e)},availableDate:function(e){return(0,Z.L0)(null!==u&&void 0!==u?u:[],e)&&!O(e)},availableTime:function(e){return(0,Z.H)(null!==o&&void 0!==o?o:[],e)&&!k(e)},minDate:B,maxDate:Q,defaultValue:c});default:return(0,H.tZ)(b.Q.ShortText,{name:"questions.".concat(t,".value"),rules:{required:e.required},control:K,autoComplete:"off",placeholder:e.placeholder,type:e.type,error:null!=U(t),autoFocus:!0,onChange:function(){return T("questions.".concat(t))},onKeyUp:function(e){"Enter"===e.key&&W(e)}})}};return(0,H.BX)(H.HY,{children:[-1===M&&null!=t?t:null,(0,H.tZ)(h.M,{children:r.questions.map((function(e,t){var n;return(0,H.BX)(l.Z,{show:M===t,children:[(0,H.tZ)(f.Z,{lower:(0,H.tZ)(f.Z.Text2,{children:e.question})}),(0,H.tZ)(m.Ki,{size:20}),A(e,t),(0,H.tZ)(m.Ki,{size:8}),(0,H.tZ)("p",{css:(0,s.iv)({fontSize:14,whiteSpace:"pre-line",lineHeight:1.3,color:U(t)?v.O.red[5]:v.O.gray[6]},"",""),children:U(t)?null===(n=U(t))||void 0===n?void 0:n.message:e.description})]},t)}))}),M===P&&null!=n?n:null,(0,H.tZ)(p.Z,{show:!0,css:X,children:(0,H.BX)(m.kC,{direction:"row",children:[M!==D?(0,H.tZ)(d.Z,{styleType:"secondary",onClick:function(){M!==D&&(V((function(e){return e-1})),null===a||void 0===a||a(M,M-1,z()))},disabled:u,css:R,children:"\uc774\uc804"}):null,M!==P?(0,H.tZ)(d.Z,{styleType:"primary",onClick:Y,children:"\ub2e4\uc74c"}):null,M===P?(0,H.tZ)(d.Z,{styleType:"primary",type:"submit",onClick:_((function(e){null===o||void 0===o||o(e)})),disabled:u,loading:u,children:"\uacb0\uc81c\ud558\uae30"}):null]})})]})},K=n(8571),L=n(2132),M=n(3675);var V={name:"1efi8gv",styles:"font-weight:bold"},Y={name:"1efi8gv",styles:"font-weight:bold"},U=function(e){var t=e.show;return(0,H.BX)(l.Z,{show:t,children:[(0,H.tZ)(f.Z,{lower:(0,H.tZ)(f.Z.Text2,{children:"\ub9c8\uc9c0\ub9c9\uc73c\ub85c \ud655\uc778\ud574\uc8fc\uc138\uc694!"})}),(0,H.tZ)(m.Ki,{size:20}),(0,H.BX)("p",{css:(0,s.iv)({color:v.O.gray[9],lineHeight:1.3},"",""),children:["\ub354\ube14\ud0ed \uc11c\ube44\uc2a4 \uc774\uc6a9\ub8cc\ub294 ",(0,H.tZ)("strong",{css:V,children:"\uba74\uc811 1\ud68c \ub2f9 5\ub9cc\uc6d0"}),"\uc785\ub2c8\ub2e4."]}),(0,H.tZ)(m.Ki,{size:6}),(0,H.BX)("p",{css:(0,s.iv)({color:v.O.gray[9],lineHeight:1.3},"",""),children:["\uac00\uaca9 \uc815\ucc45\uc744 \ud655\uc778\ud558\uc168\ub2e4\uba74, ",(0,H.tZ)("strong",{css:Y,children:"\uacb0\uc81c\ud558\uae30"})," \ubc84\ud2bc\uc744 \ub20c\ub7ec \uacb0\uc81c\uc640 \uc2e0\uccad\uc744 \uc644\ub8cc\ud574\uc8fc\uc138\uc694!"]})]})},W=n(8584),A=n(9838),G=n(9929),$=n(9328),J=n(6728),ee=n(3330);function te(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ne(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?te(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):te(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var re=function(e){return e.reduce((function(e,t){return ne(ne({},e),{},(0,r.Z)({},t.question,String(t.value)))}),{})},ue=(0,ee.Z)((function(){var e=(0,C.p)().openToast,t=(0,G.E)().me,n=(0,A.PE)().tossPayments,r=(0,a.Wd)("interviewerId"),o=(0,S.useQuery)(["interviewer",r],(function(){return null==r?Promise.resolve(null):(0,W.S1)(Number(r))})).data,s=(0,J.k)(),l=(0,i.Z)(s,3),p=l[0],f=l[1],d=l[2],v=function(){var e,t=(0,M.$)(),n=t.data;if(!t.isLoading)return{questions:[{fieldName:"position",question:"\uc9c0\uc6d0\ud558\uace0\uc790 \ud558\ub294\n\ud3ec\uc9c0\uc158\uc744 \uc54c\ub824\uc8fc\uc138\uc694",type:"select",value:"",options:null!==(e=null===n||void 0===n?void 0:n.body)&&void 0!==e?e:[],required:!0},{fieldName:"techStack",question:"\uc8fc\ub85c \uc0ac\uc6a9\ud558\uc2dc\ub294\n\uc5b8\uc5b4\ub098 \ud504\ub808\uc784\uc6cc\ud06c\ub97c \uc54c\ub824\uc8fc\uc138\uc694",placeholder:"ex) React, TypeScript",type:"text",value:"",required:!0},{fieldName:"currentCompany",question:"\ud604\uc7ac \uc5b4\ub5a4 \ud68c\uc0ac\uc5d0 \ub2e4\ub2c8\uace0 \uc788\ub098\uc694?",description:"\uc9c0\uc6d0\uc790\ub2d8\uacfc \uac19\uc740 \ud68c\uc0ac\uc5d0 \ub2e4\ub2c8\uace0 \uc788\ub294 \uba74\uc811\uad00\uc740 \ub9e4\uce6d\uc5d0\uc11c \uc81c\uc678\ud574\ub4dc\ub824\uc694.\n\ud68c\uc0ac\ub97c \ub2e4\ub2c8\uace0 \uc788\uc9c0 \uc54a\ub2e4\uba74 \ub2e4\uc74c\uc73c\ub85c \ub118\uc5b4\uac00\uc8fc\uc138\uc694",type:"text",value:"",required:!0},{fieldName:"targetCompany",question:"\uad00\uc2ec\uc788\ub294 \ud68c\uc0ac\uac00 \uc788\ub2e4\uba74\n\uc54c\ub824\uc8fc\uc138\uc694",description:"\uc790\uc720\ub86d\uac8c \uc801\uc5b4\uc8fc\uc2dc\ub418, \uc5c6\ub2e4\uba74 \ubb34\uc2dc\ud558\uace0 \ub2e4\uc74c\uc73c\ub85c \ub118\uc5b4\uac00\uc8fc\uc138\uc694",placeholder:"ex) \ub124\uc774\ubc84, \ub2f9\uadfc\ub9c8\ucf13, \ud1a0\uc2a4",type:"text",value:""},{fieldName:"interviewDate",question:"\uba74\uc811\uc744 \ud76c\ub9dd\ud558\ub294 \ub0a0\uc9dc\uc640 \uc2dc\uac04\uc744 \uc815\ud574\uc8fc\uc138\uc694",type:"datetime",value:new Date,required:!0}]}}(),h=(0,a.zj)(),m=(0,i.Z)(h,3),w=m[0],b=m[1],g=m[2],Z=function(){var r=(0,u.Z)(c().mark((function r(u){var i,a,s,l;return c().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(null!=o&&null!=n){r.next=2;break}return r.abrupt("return");case 2:return b(),K.tj.click("interviewee_apply",ne({},re(u.questions))),null!=p&&d(),r.prev=5,i=5e4,a="".concat(o.nickname,"\ub2d8\uacfc\uc758 \uba74\uc811"),r.next=10,(0,$.Ls)({amount:i,order_name:a});case 10:s=r.sent,l=s.order_id,f({interviewerId:o.id,questions:u,orderId:l}),n.requestPayment("\uce74\ub4dc",{amount:i,orderId:l,orderName:a,customerName:null===t||void 0===t?void 0:t.nickname,successUrl:"".concat(location.origin,"/interviews/requests/pay-success"),failUrl:"".concat(location.origin,"/interviews/requests/pay-fail")}),r.next=19;break;case 16:r.prev=16,r.t0=r.catch(5),e({message:"\uc9c0\uc6d0\uc11c \uc81c\ucd9c\uc5d0 \uc2e4\ud328\ud588\uc5b4\uc694. \ubb38\uc81c\uac00 \uacc4\uc18d \ubc1c\uc0dd\ud55c\ub2e4\uba74 help@double-tap.io\ub85c \ubb38\uc758\ud574\uc8fc\uc138\uc694."});case 19:return r.prev=19,g(),r.finish(19);case 22:case"end":return r.stop()}}),r,null,[[5,16,19,22]])})));return function(e){return r.apply(this,arguments)}}();return(0,y.useEffect)((function(){var e=(0,L.dD)(location.search);K.tj.view(ne({},e))}),[]),null==v||null==o?null:(0,H.tZ)(I,{data:v,outro:(0,H.tZ)(U,{show:!0}),loading:w,onSubmit:Z,interviewer:o,onNextStep:function(e,t,n){K.tj.click("next_step",ne({from:e,to:t},re(n.questions)))},onPrevStep:function(e,t,n){K.tj.click("prev_step",ne({from:e,to:t},re(n.questions)))}})}))},6728:function(e,t,n){"use strict";n.d(t,{k:function(){return u}});var r=n(8253);function u(){return(0,r._)("@doubletap/interviewRequest")}},9230:function(e,t,n){"use strict";n.d(t,{SR:function(){return c},zk:function(){return a},Y:function(){return s},NQ:function(){return l},gZ:function(){return p},WB:function(){return f},hT:function(){return d},jo:function(){return v},L7:function(){return h},b8:function(){return m}});var r=n(266),u=n(809),i=n.n(u),o=n(90),c=function(){var e=(0,r.Z)(i().mark((function e(t){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.F.get("/interviews/".concat(t));case 2:return n=e.sent,e.abrupt("return",n.body);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a=function(e,t){return o.F.post("/interviews/".concat(e,"/feedbacks"),t)},s=function(){var e=(0,r.Z)(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.F.get("/interviews/".concat(t,"/feedbacks"));case 2:return e.abrupt("return",e.sent.body);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),l=function(e,t){return o.F.post("/interviews/".concat(e,"/nps"),t)},p=function(){var e=(0,r.Z)(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.F.get("/interviews/".concat(t,"/nps"));case 2:return e.abrupt("return",e.sent.body);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(e){return o.F.get("/users/".concat(e,"/interview_schedules"))},d=function(e){return o.F.put("/interviews/".concat(e,"/in_progress"),{})},v=function(){var e=(0,r.Z)(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.F.get("/interviews/mine/interviewers");case 2:return e.abrupt("return",e.sent.body);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),h=function(){var e=(0,r.Z)(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.F.get("/interviews/mine/interviewees");case 2:return e.abrupt("return",e.sent.body);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),m=function(){var e=(0,r.Z)(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.F.get("/auth/agora/token/".concat(t));case 2:return e.abrupt("return",e.sent.body);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},9328:function(e,t,n){"use strict";n.d(t,{Ls:function(){return c},m3:function(){return s},eG:function(){return p},Aj:function(){return d}});var r=n(266),u=n(809),i=n.n(u),o=n(90);function c(e){return a.apply(this,arguments)}function a(){return(a=(0,r.Z)(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.F.post("/payments/request",t);case 2:return e.abrupt("return",e.sent.body);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function s(e){return l.apply(this,arguments)}function l(){return(l=(0,r.Z)(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.F.post("/payments/success",t);case 2:return e.abrupt("return",e.sent.body);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(e){return f.apply(this,arguments)}function f(){return(f=(0,r.Z)(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.F.post("/payments/fail",t);case 2:return e.abrupt("return",e.sent.body);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function d(e){return v.apply(this,arguments)}function v(){return(v=(0,r.Z)(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",o.F.post("/payments/cancel",t));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},8646:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/interviews/requests",function(){return n(6238)}])}},function(e){e.O(0,[6430,3469,9198,8031,6104,6688,9963,9774,2888,179],(function(){return t=8646,e(e.s=t);var t}));var t=e.O();_N_E=t}]);