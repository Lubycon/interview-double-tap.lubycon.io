"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[206],{45922:function(e,t,n){var r=n(92809),o=n(70917),i=n(91164),c=n(16914),u=n(35944),l=["show","children"];function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.Z=function(e){var t=e.show,n=e.children,r=(0,i.Z)(e,l);return(0,u.tZ)("div",a(a({css:(0,o.iv)({position:"fixed",bottom:"0",left:"50%",transform:"translateX(-50%)",width:"100%",maxWidth:c.t,zIndex:100,boxSizing:"border-box"},"","")},r),{},{children:(0,u.tZ)("div",{css:(0,o.iv)({transform:"translateY(".concat(t?"0":"100%",")"),transition:"transform 0.3s ease-in-out"},"",""),children:n})}))}},17951:function(e,t,n){var r=n(92809),o=n(70917),i=n(91164),c=n(11371),u=n(89353),l=n(35944),s=["children"],a=["children"];function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var p=function(e){var t=e.upper,n=e.lower;return(0,l.BX)(u.kC,{direction:"column",children:[(0,l.tZ)(u.Ki,{size:24}),t,null!=t&&null!=n?(0,l.tZ)(u.Ki,{size:8}):null,n,(0,l.tZ)(u.Ki,{size:16})]})};p.Text2=function(e){var t=e.children,n=(0,i.Z)(e,s);return(0,l.tZ)("h2",f(f({css:(0,o.iv)({fontWeight:"bold",fontSize:24,lineHeight:1.3,color:c.O.gray[9],whiteSpace:"pre-line"},"","")},n),{},{children:t}))},p.Text6=function(e){var t=e.children,n=(0,i.Z)(e,a);return(0,l.tZ)("p",f(f({},n),{},{children:t}))},t.Z=p},69206:function(e,t,n){n.r(t),n.d(t,{default:function(){return T}});var r=n(30266),o=n(21582),i=n(809),c=n.n(i),u=n(55641),l=n(27032),s=n(45922),a=n(17951),d=n(8031),f=n(10767),p=n(89353),h=n(67294),b=n(70917),v=n(69445),O=n(11371),y=n(35944),g=function(e){var t=e.defaultValue,n=e.onChange,r=(0,h.useState)(null!==t&&void 0!==t&&t),o=r[0],i=r[1];return(0,h.useEffect)((function(){null===n||void 0===n||n(o)}),[o]),(0,y.tZ)("button",{css:(0,b.iv)({backgroundColor:o?O.O.gray[4]:O.O.gray[2],borderRadius:"50%",border:"none",width:80,height:80,cursor:"pointer",transition:"background-color 0.2s ease-in-out"},"",""),onClick:function(){return i((function(e){return!e}))},children:(0,y.tZ)(v.J,{name:o?"mic-off":"mic",type:"outline",size:40,color:O.O.white})})},Z=n(92809),m=n(91164),w=["color","size","fontSize","children"];function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach((function(t){(0,Z.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var C=150,P=function(e){var t=e.color,n=e.size,r=(e.fontSize,e.children),o=(0,m.Z)(e,w);return(0,y.tZ)(p.kC,k(k({justify:"center",align:"center",css:(0,b.iv)({backgroundColor:t,color:O.O.white,width:n,height:n,borderRadius:"50%",opacity:.6,transition:"background-color 0.5s ease-in"},"","")},o),{},{children:r}))},z=function(e){var t=e.playing,n=e.remoteUser,r=null!=n;return(0,y.BX)("div",{css:(0,b.iv)({position:"relative",width:"100%",height:270},"",""),children:[(0,y.tZ)(P,{color:r?O.O.cyan[5]:O.O.gray[6],size:C,css:(0,b.iv)({position:"absolute",top:0,left:-18.75},"",""),children:(0,y.tZ)(p.xv,{children:r?"\uc720\uc800 ".concat(n.uid):"\uc544\uc9c1 \uc785\uc7a5\ud558\uc9c0 \uc54a\uc558\uc5b4\uc694"})}),(0,y.tZ)(p.kC,{css:(0,b.iv)({position:"absolute",top:75,right:-48.75},"",""),children:(0,y.tZ)(P,{color:t?O.O.primary:O.O.gray[6],size:195,fontSize:20,children:(0,y.tZ)(p.xv,{size:20,children:"\ub098"})})})]})};var S=(0,l.eI)({mode:"rtc",codec:"vp8"}),x=(0,l.Eu)({encoderConfig:{sampleRate:48e3,stereo:!0,bitrate:128}}),E={name:"a3z6ut",styles:"padding:0 20px"},D={name:"1d3w5wq",styles:"width:100%"},T=function(e){var t=e.token,n=e.channelName,i=e.onStart,l=e.onStop,b=e.onReady,v=S(),O=x(),Z=O.ready,m=O.track,w=(0,u.zj)(),j=(0,o.Z)(w,3),k=j[0],C=j[1],P=j[2],T=(0,h.useState)(),N=T[0],B=T[1],K=(0,h.useCallback)((0,r.Z)(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.join(f.xD,n,t,null);case 2:C(),null!=m&&v.publish(m);case 4:case"end":return e.stop()}}),e)}))),[v,C,m]),X=(0,h.useCallback)((function(){B(void 0),v.leave(),null===m||void 0===m||m.setMuted(!1),P(),null===l||void 0===l||l()}),[v,P,l]);return(0,h.useEffect)((function(){if(!1!==Z&&null!=m){var e=function(){var e=(0,r.Z)(c().mark((function e(t,n){var r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("published"),e.next=3,v.subscribe(t,n);case 3:B(t),null===i||void 0===i||i(),null===(r=t.audioTrack)||void 0===r||r.play();case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),t=function(e){var t;console.log("unpublished or mute"),null===(t=e.audioTrack)||void 0===t||t.stop()},n=function(){X()};return v.on("user-published",e),v.on("user-unpublished",t),v.on("user-left",n),function(){"CONNECTED"!==v.connectionState&&"CONNECTING"!==v.connectionState||(X(),v.off("user-published",e),v.off("user-unpublished",t),v.off("user-left",n)),m.setAudioFrameCallback(null)}}}),[Z,m,X]),(0,h.useEffect)((function(){!0===Z&&(null===b||void 0===b||b())}),[Z]),(0,y.BX)(p.kC,{direction:"column",css:E,children:[(0,y.tZ)(a.Z,{upper:(0,y.BX)(a.Z.Text2,{children:["\ucc44\ub110\uba85 [",n,"]"]})}),(0,y.tZ)(p.Ki,{size:40}),(0,y.tZ)(z,{playing:k,remoteUser:N}),k?(0,y.BX)(p.kC,{direction:"column",align:"center",justify:"center",css:D,children:[(0,y.tZ)(p.Ki,{size:50}),(0,y.tZ)(g,{defaultValue:null===m||void 0===m?void 0:m.muted,onChange:function(e){null===m||void 0===m||m.setMuted(e)}}),(0,y.tZ)("input",{type:"range",min:"0",max:"500",defaultValue:null===m||void 0===m?void 0:m.getVolumeLevel(),onChange:function(e){null===m||void 0===m||m.setVolume(Number(e.target.value))}})]}):null,(0,y.tZ)(s.Z,{show:!0,children:k?(0,y.tZ)(d.Z.BottomCTA,{styleType:"danger",onClick:X,children:"\ub098\uac00\uae30"}):(0,y.tZ)(d.Z.BottomCTA,{styleType:"primary",onClick:K,disabled:!1===Z,children:"\uc785\uc7a5\ud558\uae30"})}),(0,y.tZ)(p.Ki,{size:20})]})}}}]);