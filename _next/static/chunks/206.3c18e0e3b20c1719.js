"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[206],{45922:function(e,t,r){var n=r(92809),i=r(70917),o=r(91164),c=r(16914),u=r(35944),l=["show","children"];function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}t.Z=function(e){var t=e.show,r=e.children,n=(0,o.Z)(e,l);return(0,u.tZ)("div",a(a({css:(0,i.iv)({position:"fixed",bottom:"0",left:"50%",transform:"translateX(-50%)",width:"100%",maxWidth:c.t,zIndex:100,boxSizing:"border-box"},"","")},n),{},{children:(0,u.tZ)("div",{css:(0,i.iv)({transform:"translateY(".concat(t?"0":"100%",")"),transition:"transform 0.3s ease-in-out"},"",""),children:r})}))}},17951:function(e,t,r){var n=r(92809),i=r(70917),o=r(91164),c=r(11371),u=r(89353),l=r(35944),s=["children"],a=["children"];function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var p=function(e){var t=e.upper,r=e.lower;return(0,l.BX)(u.kC,{direction:"column",children:[(0,l.tZ)(u.Ki,{size:24}),t,null!=t&&null!=r?(0,l.tZ)(u.Ki,{size:8}):null,r,(0,l.tZ)(u.Ki,{size:16})]})};p.Text2=function(e){var t=e.children,r=(0,o.Z)(e,s);return(0,l.tZ)("h2",d(d({css:(0,i.iv)({fontWeight:"bold",fontSize:24,lineHeight:1.3,color:c.O.gray[9],whiteSpace:"pre-line"},"","")},r),{},{children:t}))},p.Text6=function(e){var t=e.children,r=(0,o.Z)(e,a);return(0,l.tZ)("p",d(d({},r),{},{children:t}))},t.Z=p},69206:function(e,t,r){r.r(t),r.d(t,{default:function(){return T}});var n=r(30266),i=r(21582),o=r(809),c=r.n(o),u=r(55641),l=r(27032),s=r(45922),a=r(17951),f=r(8031),d=r(10767),p=r(89353),h=r(67294),b=r(70917),O=r(69445),v=r(11371),y=r(35944),g=function(e){var t=e.defaultValue,r=e.onChange,n=(0,h.useState)(null!==t&&void 0!==t&&t),i=n[0],o=n[1];return(0,h.useEffect)((function(){null===r||void 0===r||r(i)}),[i]),(0,y.tZ)("button",{css:(0,b.iv)({backgroundColor:i?v.O.gray[4]:v.O.gray[2],borderRadius:"50%",border:"none",width:80,height:80,cursor:"pointer",transition:"background-color 0.2s ease-in-out"},"",""),onClick:function(){return o((function(e){return!e}))},children:(0,y.tZ)(O.J,{name:i?"mic-off":"mic",type:"outline",size:40,color:v.O.white})})},Z=r(92809),w=r(91164),j=["color","size","fontSize","children"];function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function k(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach((function(t){(0,Z.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var P=240,C=function(e){var t=e.color,r=e.size,n=(e.fontSize,e.children),i=(0,w.Z)(e,j);return(0,y.tZ)(p.kC,k(k({justify:"center",align:"center",css:(0,b.iv)({backgroundColor:t,color:v.O.white,width:r,height:r,borderRadius:"50%",opacity:.6,transition:"background-color 0.5s ease-in"},"","")},i),{},{children:n}))},z=function(e){var t=e.playing,r=e.remoteUser,n=null!=r;return(0,y.BX)("div",{css:(0,b.iv)({position:"relative",width:"100%",height:432},"",""),children:[(0,y.tZ)(C,{color:n?v.O.cyan[5]:v.O.gray[6],size:P,css:(0,b.iv)({position:"absolute",top:0,left:-30},"",""),children:(0,y.tZ)(p.xv,{children:n?"\uc720\uc800 ".concat(r):"\uc544\uc9c1 \uc785\uc7a5\ud558\uc9c0 \uc54a\uc558\uc5b4\uc694"})}),(0,y.tZ)(p.kC,{css:(0,b.iv)({position:"absolute",top:120,right:-78},"",""),children:(0,y.tZ)(C,{color:t?v.O.primary:v.O.gray[6],size:312,fontSize:20,children:(0,y.tZ)(p.xv,{size:20,children:"\ub098"})})})]})};var S=(0,l.eI)({mode:"rtc",codec:"vp8"}),E=(0,l.Eu)({encoderConfig:{sampleRate:48e3,stereo:!0,bitrate:128}}),x={name:"a3z6ut",styles:"padding:0 20px"},D={name:"1d3w5wq",styles:"width:100%"},T=function(e){var t=e.token,r=e.channelName,o=e.onStart,l=e.onStop,b=e.onReady,O=S(),v=E(),Z=v.ready,w=v.track,j=(0,u.zj)(),m=(0,i.Z)(j,3),k=m[0],P=m[1],C=m[2],T=(0,h.useState)(),N=T[0],B=T[1],K=(0,h.useCallback)((0,n.Z)(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.join(d.xD,r,t,null);case 2:P(),null!=w&&O.publish(w);case 4:case"end":return e.stop()}}),e)}))),[O,P,w]),X=(0,h.useCallback)((function(){O.leave(),null===w||void 0===w||w.setEnabled(!0),B(void 0),C(),null===l||void 0===l||l()}),[O,C,l]);return(0,h.useEffect)((function(){if(!1!==Z&&null!=w){var e=function(){var e=(0,n.Z)(c().mark((function e(t,r){var n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.subscribe(t,r);case 2:B(t.uid),null===o||void 0===o||o(),null===(n=t.audioTrack)||void 0===n||n.play();case 5:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),t=function(e){var t;B(void 0),null===(t=e.audioTrack)||void 0===t||t.stop()},r=function(){X()};return O.on("user-published",e),O.on("user-unpublished",t),O.on("user-left",r),function(){"CONNECTED"!==O.connectionState&&"CONNECTING"!==O.connectionState||(X(),O.off("user-published",e),O.off("user-unpublished",t),O.off("user-left",r))}}}),[Z,w,X]),(0,h.useEffect)((function(){!0===Z&&(null===b||void 0===b||b())}),[Z]),(0,y.BX)(p.kC,{direction:"column",css:x,children:[(0,y.tZ)(a.Z,{upper:(0,y.BX)(a.Z.Text2,{children:["\ucc44\ub110\uba85 [",r,"]"]})}),(0,y.tZ)(p.Ki,{size:100}),(0,y.tZ)(z,{playing:k,remoteUser:N}),k?(0,y.BX)(p.kC,{direction:"column",align:"center",justify:"center",css:D,children:[(0,y.tZ)(p.Ki,{size:50}),(0,y.tZ)(g,{defaultValue:!(null!==w&&void 0!==w&&w.enabled),onChange:function(e){null===w||void 0===w||w.setEnabled(!e)}})]}):null,(0,y.tZ)(s.Z,{show:!0,children:k?(0,y.tZ)(f.Z.BottomCTA,{styleType:"danger",onClick:X,children:"\ub098\uac00\uae30"}):(0,y.tZ)(f.Z.BottomCTA,{styleType:"primary",onClick:K,disabled:!1===Z,children:"\uc785\uc7a5\ud558\uae30"})}),(0,y.tZ)(p.Ki,{size:20})]})}}}]);